<div
  id="sidebar"
  class="d-flex flex-column flex-shrink-0 p-3 sidebar"
  [class.collapsed]="!isOpen"
  role="navigation"
  aria-label="Menu boczne"
>
  <!-- Logo i Toggle -->
  <div class="d-flex justify-content-between align-items-center mb-5">
    <div class="d-flex align-items-center">
      <img
        src="assets/MatchPlaner2.png"
        alt="{{ moduleStrings.logoAlt }}"
        class="me-2 logo-img"
        width="35"
      />
      <span class="fs-4 fw-bold text-primary" *ngIf="isOpen">{{
        moduleStrings.logoTitle
      }}</span>
    </div>

    <!--Toggle-->
    <button
      class="btn bg-transparent sidebar-toggle"
      (click)="onToggleSidebar()"
      [attr.aria-label]="isOpen ? 'Zamknij menu boczne' : 'OtwÃ³rz menu boczne'"
      [attr.aria-expanded]="isOpen"
      aria-controls="sidebar"
    >
      <i
        class="fa"
        [ngClass]="{ 'fa-bars': !isOpen, 'fa-times': isOpen }"
        aria-hidden="true"
      ></i>
    </button>
  </div>

  <div class="mb-1"></div>
  <div class="sectionTitle fs-6 text">
    <span>{{ moduleStrings.menu }}</span>
  </div>

  <!--Nawigacja-->
  <ul class="nav nav-pills flex-column">
    <li class="nav-item" *ngIf="tid$ | async as tid; else noTidHome">
      <a
        [routerLink]="['/', tid, 'home']"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        class="nav-link my-2"
        [attr.aria-label]="moduleStrings.links.tournament"
        aria-current="page"
        (click)="goOrPick(tid, ['home'])"
      >
        <i class="fa-solid fa-trophy me-4" aria-hidden="true"></i>
        <span *ngIf="isOpen">{{ moduleStrings.links.tournament }}</span>
      </a>
    </li>
    <ng-template #noTidHome>
      <li class="nav-item">
        <a
          class="nav-link my-2 disabled"
          tabindex="-1"
          aria-disabled="true"
          (click)="goOrPick(null, ['home'])"
          role="link"
        >
          <i class="fa-solid fa-trophy me-4" aria-hidden="true"></i>
          <span *ngIf="isOpen">{{ moduleStrings.links.tournament }}</span>
        </a>
      </li>
    </ng-template>
    <li *ngIf="tid$ | async as tid; else noTidTeams">
      <a
        [routerLink]="['/', tid, 'teams']"
        routerLinkActive="active"
        class="nav-link my-2"
        [attr.aria-label]="moduleStrings.links.teams"
        (click)="goOrPick(tid, ['teams'])"
      >
        <i class="fa-solid fa-people-group me-4" aria-hidden="true"></i>
        <span *ngIf="isOpen">{{ moduleStrings.links.teams }}</span>
      </a>
    </li>
    <ng-template #noTidTeams>
      <li class="nav-item">
        <a
          class="nav-link my-2 disabled"
          tabindex="-1"
          aria-disabled="true"
          (click)="goOrPick(null, ['teams'])"
        >
          <i class="fa-solid fa-people-group me-4" aria-hidden="true"></i>
          <span *ngIf="isOpen">{{ moduleStrings.links.teams }}</span>
        </a>
      </li>
    </ng-template>
    <li *ngIf="tid$ | async as tid; else noTidTables">
      <a
        [routerLink]="['/', tid, 'tables']"
        routerLinkActive="active"
        class="nav-link my-2"
        [attr.aria-label]="moduleStrings.links.tables"
        (click)="goOrPick(tid, ['tables'])"
      >
        <i class="fa-solid fa-table-list me-4" aria-hidden="true"></i>
        <span *ngIf="isOpen">{{ moduleStrings.links.tables }}</span>
      </a>
    </li>
    <ng-template #noTidTables>
      <li class="nav-item">
        <a
          class="nav-link my-2 disabled"
          tabindex="-1"
          aria-disabled="true"
          (click)="goOrPick(null, ['tables'])"
        >
          <i class="fa-solid fa-table-list me-4" aria-hidden="true"></i>
          <span *ngIf="isOpen">{{ moduleStrings.links.tables }}</span>
        </a>
      </li>
    </ng-template>
    <li *ngIf="tid$ | async as tid; else noTidCalendar">
      <a
        [routerLink]="['/', tid, 'calendar']"
        routerLinkActive="active"
        class="nav-link my-2"
        [attr.aria-label]="moduleStrings.links.calendar"
        (click)="goOrPick(tid, ['calendar'])"
      >
        <i class="fa-solid fa-calendar-days me-4" aria-hidden="true"></i>
        <span *ngIf="isOpen">{{ moduleStrings.links.calendar }}</span>
      </a>
    </li>
    <ng-template #noTidCalendar>
      <li class="nav-item">
        <a
          class="nav-link my-2 disabled"
          tabindex="-1"
          aria-disabled="true"
          (click)="goOrPick(null, ['calendar'])"
        >
          <i class="fa-solid fa-calendar-days me-4" aria-hidden="true"></i>
          <span *ngIf="isOpen">{{ moduleStrings.links.calendar }}</span>
        </a>
      </li>
    </ng-template>
  </ul>
</div>
